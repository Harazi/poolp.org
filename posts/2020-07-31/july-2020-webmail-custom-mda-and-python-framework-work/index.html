<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>July 2020: webmail, custom MDA and python framework work - poolp.org</title><meta property="og:title" content="July 2020: webmail, custom MDA and python framework work"><meta name=twitter:title content="July 2020: webmail, custom MDA and python framework work"><meta name=description content="TL;DR: worked on my webmail, on a custom MDA and on a python framework for API development.  Shout outs to my patrons ! As usual, a huge thanks goes to the people sponsoring me on patreon or github, the work in this post was made possible by my sponsorship.
Worked on my webmail Again, I&rsquo;d like to emphasize that this is something that&rsquo;s going to span over many months so&mldr; don&rsquo;t hold your breath."><meta property="og:description" content="TL;DR: worked on my webmail, on a custom MDA and on a python framework for API development.  Shout outs to my patrons ! As usual, a huge thanks goes to the people sponsoring me on patreon or github, the work in this post was made possible by my sponsorship.
Worked on my webmail Again, I&rsquo;d like to emphasize that this is something that&rsquo;s going to span over many months so&mldr; don&rsquo;t hold your breath."><meta name=twitter:description content="TL;DR: worked on my webmail, on a custom MDA and on a python framework for API development.  Shout outs to my patrons ! As usual, a huge thanks goes to the people sponsoring me on patreon or github, …"><meta name=author content="Gilles Chehade"><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"poolp.org","url":"https:\/\/poolp.org\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"https:\/\/poolp.org\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https:\/\/poolp.org\/","name":"home"}},{"@type":"ListItem","position":3,"item":{"@id":"https:\/\/poolp.org\/posts\/2020-07-31\/july-2020-webmail-custom-mda-and-python-framework-work\/","name":"July 2020 webmail, custom mda and python framework work"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","author":{"name":"Gilles Chehade"},"headline":"July 2020: webmail, custom MDA and python framework work","description":"TL;DR: worked on my webmail, on a custom MDA and on a python framework for API development.  Shout outs to my patrons ! As usual, a huge thanks goes to the people sponsoring me on patreon or github, the work in this post was made possible by my sponsorship.\nWorked on my webmail Again, I\u0026rsquo;d like to emphasize that this is something that\u0026rsquo;s going to span over many months so\u0026hellip; don\u0026rsquo;t hold your breath.","inLanguage":"en","wordCount":1382,"datePublished":"2020-07-31T22:47:00","dateModified":"2020-07-31T22:47:00","image":"https:\/\/poolp.org\/","keywords":[""],"mainEntityOfPage":"https:\/\/poolp.org\/posts\/2020-07-31\/july-2020-webmail-custom-mda-and-python-framework-work\/","publisher":{"@type":"Organization","name":"https:\/\/poolp.org\/","logo":{"@type":"ImageObject","url":"https:\/\/poolp.org\/","height":60,"width":60}}}</script><meta property="og:title" content="July 2020: webmail, custom MDA and python framework work"><meta property="og:description" content="TL;DR: worked on my webmail, on a custom MDA and on a python framework for API development.  Shout outs to my patrons ! As usual, a huge thanks goes to the people sponsoring me on patreon or github, the work in this post was made possible by my sponsorship.
Worked on my webmail Again, I&rsquo;d like to emphasize that this is something that&rsquo;s going to span over many months so&mldr; don&rsquo;t hold your breath."><meta property="og:image" content="https://poolp.org/images/2020-07-31-webmail.png"><meta property="og:url" content="https://poolp.org/posts/2020-07-31/july-2020-webmail-custom-mda-and-python-framework-work/"><meta property="og:type" content="website"><meta property="og:site_name" content="poolp.org"><meta name=twitter:title content="July 2020: webmail, custom MDA and python framework work"><meta name=twitter:description content="TL;DR: worked on my webmail, on a custom MDA and on a python framework for API development.  Shout outs to my patrons ! As usual, a huge thanks goes to the people sponsoring me on patreon or github, …"><meta name=twitter:image content="https://poolp.org/images/2020-07-31-webmail.png"><meta name=twitter:card content="summary"><meta name=twitter:site content="@poolpOrg"><meta name=twitter:creator content="@poolpOrg"><meta property="og:image" content="https://poolp.org/images/2020-07-31-webmail.png"><meta name=twitter:image content="https://poolp.org/images/2020-07-31-webmail.png"><meta name=twitter:card content="summary"><meta name=twitter:site content="@poolpOrg"><meta name=twitter:creator content="@poolpOrg"><meta property="og:url" content="https://poolp.org/posts/2020-07-31/july-2020-webmail-custom-mda-and-python-framework-work/"><meta property="og:type" content="website"><meta property="og:site_name" content="poolp.org"><meta name=generator content="Hugo 0.81.0"><link rel=alternate href=https://poolp.org/index.xml type=application/rss+xml title=poolp.org><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css integrity=sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.5.0/css/all.css integrity=sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU crossorigin=anonymous><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css integrity=sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u crossorigin=anonymous><link rel=stylesheet href=https://poolp.org/css/main.css><link rel=stylesheet href=https://poolp.org/css/highlight.min.css><link rel=stylesheet href=https://poolp.org/css/codeblock.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css integrity=sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css integrity=sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R crossorigin=anonymous><link rel=stylesheet href=/css/latex.style.css></head><body><div class="navbar navbar-default navbar-fixed-top navbar-custom"><div class=container-fluid><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#main-navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span></button>
<a class=navbar-brand href=https://poolp.org/ target=_blank><img src=/images/poolp_org.png alt=poolp.org height=55px></a></div><div class="collapse navbar-collapse" id=main-navbar><ul class="nav navbar-nav navbar-right"><li class=navlinks-container><a class=navlinks-parent>Freelance</a><div class=navlinks-children><a href=/en/contracting/>[en] Hire me !</a>
<a href=/fr/contracting/>[fr] Recrutez moi !</a></div></li><li class=navlinks-container><a class=navlinks-parent>Sponsorship</a><div class=navlinks-children><a href=/en/sponsorship/>[en] Sponsor me !</a>
<a href=/fr/sponsorship/>[fr] Sponsorisez moi !</a></div></li><li class=navlinks-container><a class=navlinks-parent>Social</a><div class=navlinks-children><a href=https://patreon.com/gilles>Patreon</a>
<a href=https://www.linkedin.com/in/gilleschehade>LinkedIn</a>
<a href=https://github.com/poolpOrg>Github</a>
<a href=https://twitter.com/poolpOrg>Twitter</a></div></li><li class=navlinks-container><a class=navlinks-parent>Curriculum</a><div class=navlinks-children><a href=https://github.com/poolpOrg/resume/blob/master/resume.en.pdf>EN</a>
<a href=https://github.com/poolpOrg/resume/blob/master/resume.fr.pdf>FR</a></div></li><li><a title=Hypnose href=https://hypno.cat>Hypnose</a></li></ul></div></div></div><header class=header-section><div class="intro-header no-img"><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=posts-heading><h1 style=text-align:left>July 2020: webmail, custom MDA and python framework work</h1></div></div></div></div></div></header><div class=container role=main><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><article role=main class=blog-post><blockquote><b>TL;DR:</b>
worked on my webmail,
on a custom MDA and on a python framework for API development.</blockquote><h1 id=shout-outs-to-my-patrons->Shout outs to my patrons !</h1><p>As usual,
a <strong>huge</strong> thanks goes to the people <strong>sponsoring me</strong> on <strong><a href=https://www.patreon.com/gilles>patreon</a></strong> or <strong><a href=https://github.com/sponsors/poolpOrg>github</a></strong>, the work in this post was made possible by my <strong><a href=/sponsorship/>sponsorship</a></strong>.</p><h1 id=worked-on-my-webmail>Worked on my webmail</h1><p>Again,
I&rsquo;d like to emphasize that this is something that&rsquo;s going to span over many months so&mldr;
<strong>don&rsquo;t hold your breath</strong>.</p><p>Last month I wrote that the webmail didn&rsquo;t allow reading messages yet as the <code>/fetch</code> backend operation only fetched headers.
This was because I focused on navigation and the fetching of messages in IMAP is a bit <strong>tricky to do right</strong> so I wanted to be focused.
A naive approach that works is to simply get the <strong>full message</strong> and <strong>parse it in the client</strong>,
something that I&rsquo;ve done multiple time in the past when <strong>performances</strong> weren&rsquo;t a big deal.
With a webmail, this approach does not work:
the time it takes to open a page with the mail content is <strong>unbearable</strong> when there&rsquo;s a big file attached to it,
it&rsquo;s just not acceptable.</p><p>Luckily,
imap supports fetching a <code>BODYSTRUCTURE</code> which results in a response describing the <strong>MIME structure</strong> of the message.
With this, a client can inspect the structure and determine which parts it wants to fetch them <strong>specifically</strong>.
This is a nice solution,
at the cost of an <strong>additional fetch</strong> operation,
and in the case of a webmail it is exactly what I need to avoid passing huge amount of <strong>unnecessary data</strong> between the imap server,
the backend and the frontend.
This took me a while to complete because parsing the <code>BODYSTRUCTURE</code> is nightmarish:
it describes a MIME structure &mldr; and MIME supports nesting &mldr; and the imap protocol is &mldr;
how do I put it &mldr;
<em>not the most beautiful thing</em>.</p><p>With this done,
I could fetch multipart messages and allows displaying a specific part,
without the performance overhead of a full fetch:</p><center><img src=/images/2020-07-31-webmail-multipart.png></center><p>The above was essentially backend work with just a bit of frontend work,
but the remaining of my work on the webmail was essentially on the frontend side:</p><p>I reworked a bit the navigation to simplify,
splitting between &ldquo;system folders&rdquo; and &ldquo;custom&rdquo; folders,
but also allowing to click on a progressbar to skip to a <strong>specific portion</strong> of a large folder,
getting rid of &ldquo;pagination&rdquo; links.
In addition,
I reworked the folder listing so that the frontend now adapts to the screen size:
it determines the window height and fetches just enough entries to <strong>fill the window</strong> without generating a scrollbar.
The scrollbar is unnecessary because pagination uses either the <code>pageup/pagedown</code> button,
or is automatic when using <code>arrow up/down</code> while on the first or last entry of the listing.
If you use <code>mutt</code>, you&rsquo;ll be in a very familiar ground.</p><center><img src=/images/2020-07-31-webmail-listing.png></center><p>A bit I&rsquo;d like to improve is the display of subfolders which are currently displayed inlined in the custom folder tab.</p><p>I also worked on mail composing,
because being able to read a mail is nice but being able to answer is even better.</p><p>I&rsquo;m not a big fan of HTML emails for a variety of reasons,
some of which will be explained in an upcoming article,
but I&rsquo;d be deluded if I thought HTML emails were going anywhere.
Still,
I want to avoid them as much as possible,
so I decided to make the webmail allow composing HTML messages while emitting them in plain by default,
if possible.</p><center><img src=/images/2020-07-31-webmail-compose.png></center><p>Basically, the webmail will display a compose page which allows to customize the appearance of text,
however it will:</p><ul><li>default to generating a <code>text/plain</code> part if no customization was used</li><li>generate a <code>text/plain</code> <strong>alternative part</strong> stripped of customization if any was used</li></ul><p>Of course, the idea is not just to compose an email but also to send it.
I wrote the backend bits to <strong>craft a MIME-message</strong> from the frontend submission and send it,
which allowed me to mail myself:</p><center><img src=/images/2020-07-31-webmail-sent.png></center><p>Work is still needed to allow attachments when composing a message,
but there is not technical difficulty there.</p><p>At this point,
I know the backend API is about right and I can focus on improving the frontend to make it more usable.</p><h1 id=worked-on-a-custom-mda>Worked on a custom MDA</h1><p>Last month,
I talked about my custom MDA and script script to perform folder pinning.
I&rsquo;m happy with the idea but not so much with the implementation so I decided to revisit.</p><p>The issue is that folder pinning is far from being the only thing I want to do with incoming mails at delivery time,
and shoving everything in the mda executable is not ideal.
I rewrote the MDA to have it handle <strong>delivery only</strong> and <strong>call an API</strong> to determine where it should do it,
this let me play with a ton of ideas on a custom API server without tweaking the working MDA.
At the end of the day,
I had incoming mails processed by various <strong>text analyzers</strong>,
attachments automatically <strong>extracted</strong> and put in an s3 backing store,
and mails <strong>indexed</strong> for fast lookups.</p><p>I will not expand much on how I did this as I think it makes a nice topic for a <strong>dedicated article</strong> on custom MDA,
and fun stuff you can easily do with them to provide some awesome features on your mail setup.</p><h1 id=worked-on-a-python-framework-for-my-apiweb-development>Worked on a python framework for my API/web development</h1><p>I often write APIs, either for work of for my own needs, and I usually use <code>bottlepy</code> which is a micro-framework for python.
Along the years,
I worked on a lot of projects using that framework,
including professional projects with tons of constraints.</p><p>Eric and I built a lot of small helpers around it to make out job easier,
and we kept <strong>copying</strong> these in each and every project,
improving them as needed.
I thought it would be a nice idea to package this so that I could easily bootstrap a new project without copying code around.
So I spent a few days extracting the code from an existing project,
cleaning it up,
and packaging it so it could easily be used to start a new project.</p><p>The work isn&rsquo;t done yet, but the idea is that you end up with an executable.
This executable is controlled by a configuration file which lets you describe what interface and port the API is running on,
as well as what package implements its endpoints.
Then, all you need to do is to create a small package that contains the endpoints and implementations,
something like:</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=kn>import</span> <span class=nn>openbar.routes</span>

<span class=nd>@openbar.routes.register</span><span class=p>(</span><span class=s2>&#34;0.1&#34;</span><span class=p>,</span> <span class=s2>&#34;backend&#34;</span><span class=p>)</span>
<span class=k>def</span> <span class=nf>setup</span><span class=p>(</span><span class=n>app</span><span class=p>):</span>
    <span class=n>app</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;/&#34;</span><span class=p>)(</span><span class=n>get_root</span><span class=p>)</span>
    <span class=n>app</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&#34;/&#34;</span><span class=p>)(</span><span class=n>post_foobar</span><span class=p>)</span>

<span class=k>def</span> <span class=nf>get_root</span><span class=p>():</span>
    <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;foobar&#34;</span><span class=p>:</span> <span class=s2>&#34;barbaz&#34;</span><span class=p>}</span>

<span class=k>def</span> <span class=nf>post_foobar</span><span class=p>():</span>
    <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;barbaz&#34;</span><span class=p>:</span> <span class=s2>&#34;bazqux&#34;</span><span class=p>}</span>
</code></pre></div><p>What&rsquo;s interesting here is not that this is short,
because you&rsquo;d get about the same if you just dropped <code>bottlepy</code> in the same folder,
but it&rsquo;s that you don&rsquo;t need to do all the plumbing to daemonize and drop privileges,
log to syslog,
etc&mldr;
and that it comes with a lot of helpers.</p><p>I will also not expand much on this as I&rsquo;m almost done with the packaging and I might as well demo it rather than spoil it.
There is nothing super impressive,
no big innovation,
but just a wrapping of common stuff in interfaces that makes them pleasant to deal with.</p><p>The webmail backend is an obvious candidate for this,
but so is the MDA API server.
I keep needing this over and over,
it made sense stepping into this project to cut time on the others.</p><h1 id=no-opensmtpd-work->no OpenSMTPD work ?</h1><p>Not much this month.</p><p>I spent a day playing with a <code>queue-procexec</code> but the code was <strong>throw-away</strong>,
only meant to help me detect if something was utterly broken with the idea.</p><p>I also worked a bit on the <code>go-opensmtpd</code> package and made progress on the filter API,
the goal being to allow writing a filter without worrying about the low-level protocol.
Instead of reading the protocol, parsing it and determining what should be called or not,
a filter can register callbacks for specific events and implement these callbacks.</p><p>I will finish this in September and adapt my <code>filter-rspamd</code> accordingly.</p><h1 id=whats-next->What&rsquo;s next ?</h1><p>I will be <strong>taking a break</strong> from all projects in August to enjoy some long-awaited vacations,
so&mldr; <strong>don&rsquo;t expect any code to be written before September</strong>.</p><p>Have a nice month !</p><hr><p>Comments: <a href=https://github.com/poolpOrg/poolp.org/issues/79>https://github.com/poolpOrg/poolp.org/issues/79</a></p><hr><section id=social-share><div class="list-inline footer-links"><div class=share-box aria-hidden=true><ul class=share><li><a href="//twitter.com/share?url=https%3a%2f%2fpoolp.org%2fposts%2f2020-07-31%2fjuly-2020-webmail-custom-mda-and-python-framework-work%2f&text=July%202020%3a%20webmail%2c%20custom%20MDA%20and%20python%20framework%20work&via=poolpOrg" target=_blank title="Share on Twitter"><i class="fab fa-twitter"></i></a></li><li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fpoolp.org%2fposts%2f2020-07-31%2fjuly-2020-webmail-custom-mda-and-python-framework-work%2f" target=_blank title="Share on Facebook"><i class="fab fa-facebook"></i></a></li><li><a href="//reddit.com/submit?url=https%3a%2f%2fpoolp.org%2fposts%2f2020-07-31%2fjuly-2020-webmail-custom-mda-and-python-framework-work%2f&title=July%202020%3a%20webmail%2c%20custom%20MDA%20and%20python%20framework%20work" target=_blank title="Share on Reddit"><i class="fab fa-reddit"></i></a></li><li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fpoolp.org%2fposts%2f2020-07-31%2fjuly-2020-webmail-custom-mda-and-python-framework-work%2f&title=July%202020%3a%20webmail%2c%20custom%20MDA%20and%20python%20framework%20work" target=_blank title="Share on LinkedIn"><i class="fab fa-linkedin"></i></a></li><li><a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fpoolp.org%2fposts%2f2020-07-31%2fjuly-2020-webmail-custom-mda-and-python-framework-work%2f&title=July%202020%3a%20webmail%2c%20custom%20MDA%20and%20python%20framework%20work" target=_blank title="Share on StumbleUpon"><i class="fab fa-stumbleupon"></i></a></li><li><a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fpoolp.org%2fposts%2f2020-07-31%2fjuly-2020-webmail-custom-mda-and-python-framework-work%2f&description=July%202020%3a%20webmail%2c%20custom%20MDA%20and%20python%20framework%20work" target=_blank title="Share on Pinterest"><i class="fab fa-pinterest"></i></a></li></ul></div></div></section></article><ul class="pager blog-pager"><li class=previous><a href=https://poolp.org/posts/2020-06-27/june-2020-poolp.org-folder-pinning-and-webmail-work/ data-toggle=tooltip data-placement=top title="June 2020: poolp.org, folder pinning and webmail work">&larr; Previous Post</a></li><li class=next><a href=https://poolp.org/posts/2020-11-22/november-2020-i-wasnt-slacking-but-no-opensource-work/ data-toggle=tooltip data-placement=top title="November 2020: I wasn't slacking but no opensource work">Next Post &rarr;</a></li></ul></div></div></div><footer style=text-align:justify><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><h2>Like my work and want to help me ?</h2><br><ul><li>Consider <b>tipping me</b> on <b><a target=_blank href=https://paypal.me/poolpOrg>PayPal</a></b>,
<b>supporting me</b> through one of the <b><a href=/en/sponsorship>sponsorship</a></b> platforms at <b><a href=https://github.com/sponsors/poolpOrg>Github</a></b>, <b><a href=https://patreon.com/gilles>Patreon</a></b> or
<b><a href=https://liberapay.com/poolpOrg>LiberaPay</a></b>,
or even <b>getting me something</b> from my wishlist on <b><a target=_blank href=http://amzn.eu/3MwH6CX>Amazon</a></b>
for positive <b><a href=https://en.wikipedia.org/wiki/Reinforcement>reinforcement</a></b> :-)<br><br></li><li>You can also help me by <b>commenting articles</b> to spark discussions,
and by <b>sharing them</b> so they reach a bigger audience,
they all contain a comment link and icons that will let you share to popular social networks.</li></ul><br></div></div><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><p class="credits copyright text-muted"><a href=https://poolp.org>Gilles Chehade</a>
-&nbsp;&copy;
2021
-
<a href=https://poolp.org/>poolp.org</a></p><p class="credits theme-by text-muted"><a href=http://gohugo.io>Hugo v0.81.0</a> powered - Theme adapted from <a href=http://deanattali.com/beautiful-jekyll/>Beautiful Jekyll</a></p></div></div></div></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js integrity=sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js integrity=sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe crossorigin=anonymous></script><script src=https://code.jquery.com/jquery-1.12.4.min.js integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin=anonymous></script><script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js integrity=sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa crossorigin=anonymous></script><script src=https://poolp.org/js/main.js></script><script src=https://poolp.org/js/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><script>$(document).ready(function(){$("pre.chroma").css("padding","0")})</script><script>renderMathInElement(document.body)</script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js integrity=sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js integrity=sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q crossorigin=anonymous></script><script src=https://poolp.org/js/load-photoswipe.js></script></body></html>