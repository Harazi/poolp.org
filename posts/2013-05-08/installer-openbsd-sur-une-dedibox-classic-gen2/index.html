<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Installer OpenBSD sur une dedibox Classic+ Gen2 - poolp.org</title><meta property="og:title" content="Installer OpenBSD sur une dedibox Classic+ Gen2"><meta name=twitter:title content="Installer OpenBSD sur une dedibox Classic+ Gen2"><meta name=description content="Yop,
Les services de poolp.org sont hébergés sur plusieurs serveurs.
Le serveur principal à été basculé d&rsquo;un petit hébergeur US &ldquo;OpenBSD-friendly&rdquo; vers Online.net depuis 3 ans maintenant. J&rsquo;ai rusé à l&rsquo;époque pour installer OpenBSD sur la Dedibox &ldquo;DC&rdquo; en utilisant une vieille version de Yaifo et en faisant des upgrades successives du système d&rsquo;exploitation. Mis à part 3 petits downtimes dont 1 de ma responsabilité, je n&rsquo;ai jamais eu à me plaindre de leurs services et de leur matériel."><meta property="og:description" content="Yop,
Les services de poolp.org sont hébergés sur plusieurs serveurs.
Le serveur principal à été basculé d&rsquo;un petit hébergeur US &ldquo;OpenBSD-friendly&rdquo; vers Online.net depuis 3 ans maintenant. J&rsquo;ai rusé à l&rsquo;époque pour installer OpenBSD sur la Dedibox &ldquo;DC&rdquo; en utilisant une vieille version de Yaifo et en faisant des upgrades successives du système d&rsquo;exploitation. Mis à part 3 petits downtimes dont 1 de ma responsabilité, je n&rsquo;ai jamais eu à me plaindre de leurs services et de leur matériel."><meta name=twitter:description content="Yop,
Les services de poolp.org sont hébergés sur plusieurs serveurs.
Le serveur principal à été basculé d&rsquo;un petit hébergeur US &ldquo;OpenBSD-friendly&rdquo; vers Online.net depuis 3 ans …"><meta name=author content="Gilles Chehade"><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"poolp.org","url":"https:\/\/poolp.org\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"https:\/\/poolp.org\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https:\/\/poolp.org\/","name":"home"}},{"@type":"ListItem","position":3,"item":{"@id":"https:\/\/poolp.org\/posts\/2013-05-08\/installer-openbsd-sur-une-dedibox-classic-gen2\/","name":"Installer open bsd sur une dedibox classic gen2"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","author":{"name":"Gilles Chehade"},"headline":"Installer OpenBSD sur une dedibox Classic\u002b Gen2","description":"Yop,\nLes services de poolp.org sont hébergés sur plusieurs serveurs.\nLe serveur principal à été basculé d\u0026rsquo;un petit hébergeur US \u0026ldquo;OpenBSD-friendly\u0026rdquo; vers Online.net depuis 3 ans maintenant. J\u0026rsquo;ai rusé à l\u0026rsquo;époque pour installer OpenBSD sur la Dedibox \u0026ldquo;DC\u0026rdquo; en utilisant une vieille version de Yaifo et en faisant des upgrades successives du système d\u0026rsquo;exploitation. Mis à part 3 petits downtimes dont 1 de ma responsabilité, je n\u0026rsquo;ai jamais eu à me plaindre de leurs services et de leur matériel.","inLanguage":"en","wordCount":2361,"datePublished":"2013-05-08T14:23:43","dateModified":"2013-05-08T14:23:43","image":"https:\/\/poolp.org\/","keywords":[""],"mainEntityOfPage":"https:\/\/poolp.org\/posts\/2013-05-08\/installer-openbsd-sur-une-dedibox-classic-gen2\/","publisher":{"@type":"Organization","name":"https:\/\/poolp.org\/","logo":{"@type":"ImageObject","url":"https:\/\/poolp.org\/","height":60,"width":60}}}</script><meta property="og:title" content="Installer OpenBSD sur une dedibox Classic+ Gen2"><meta property="og:description" content="Yop,
Les services de poolp.org sont hébergés sur plusieurs serveurs.
Le serveur principal à été basculé d&rsquo;un petit hébergeur US &ldquo;OpenBSD-friendly&rdquo; vers Online.net depuis 3 ans maintenant. J&rsquo;ai rusé à l&rsquo;époque pour installer OpenBSD sur la Dedibox &ldquo;DC&rdquo; en utilisant une vieille version de Yaifo et en faisant des upgrades successives du système d&rsquo;exploitation. Mis à part 3 petits downtimes dont 1 de ma responsabilité, je n&rsquo;ai jamais eu à me plaindre de leurs services et de leur matériel."><meta property="og:url" content="https://poolp.org/posts/2013-05-08/installer-openbsd-sur-une-dedibox-classic-gen2/"><meta property="og:type" content="website"><meta property="og:site_name" content="poolp.org"><meta name=twitter:title content="Installer OpenBSD sur une dedibox Classic+ Gen2"><meta name=twitter:description content="Yop,
Les services de poolp.org sont hébergés sur plusieurs serveurs.
Le serveur principal à été basculé d&rsquo;un petit hébergeur US &ldquo;OpenBSD-friendly&rdquo; vers Online.net depuis 3 ans …"><meta name=twitter:card content="summary"><meta name=twitter:site content="@poolpOrg"><meta name=twitter:creator content="@poolpOrg"><meta name=twitter:card content="summary"><meta name=twitter:site content="@poolpOrg"><meta name=twitter:creator content="@poolpOrg"><meta property="og:url" content="https://poolp.org/posts/2013-05-08/installer-openbsd-sur-une-dedibox-classic-gen2/"><meta property="og:type" content="website"><meta property="og:site_name" content="poolp.org"><meta name=generator content="Hugo 0.82.1"><link rel=alternate href=https://poolp.org/index.xml type=application/rss+xml title=poolp.org><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css integrity=sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.5.0/css/all.css integrity=sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU crossorigin=anonymous><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css integrity=sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u crossorigin=anonymous><link rel=stylesheet href=https://poolp.org/css/main.css><link rel=stylesheet href=https://poolp.org/css/highlight.min.css><link rel=stylesheet href=https://poolp.org/css/codeblock.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css integrity=sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css integrity=sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R crossorigin=anonymous><link rel=stylesheet href=/css/latex.style.css></head><body><div class="navbar navbar-default navbar-fixed-top navbar-custom"><div class=container-fluid><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#main-navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span></button>
<a class=navbar-brand href=https://poolp.org/ target=_blank>poolp.org</a></div><div class="collapse navbar-collapse" id=main-navbar><ul class="nav navbar-nav navbar-right"><li class=navlinks-container><a class=navlinks-parent>Freelance</a><div class=navlinks-children><a href=/en/contracting/>[en] Hire me !</a>
<a href=/fr/contracting/>[fr] Recrutez moi !</a></div></li><li class=navlinks-container><a class=navlinks-parent>Social</a><div class=navlinks-children><a href=https://patreon.com/gilles>Patreon</a>
<a href=https://www.linkedin.com/in/gilleschehade>LinkedIn</a>
<a href=https://github.com/poolpOrg>Github</a>
<a href=https://twitter.com/poolpOrg>Twitter</a></div></li><li class=navlinks-container><a class=navlinks-parent>Curriculum</a><div class=navlinks-children><a href=https://github.com/poolpOrg/resume/blob/master/resume.en.pdf>EN</a>
<a href=https://github.com/poolpOrg/resume/blob/master/resume.fr.pdf>FR</a></div></li><li><a title=Hypnose href=https://hypno.cat>Hypnose</a></li></ul></div></div></div><header class=header-section><div class="intro-header no-img"><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=posts-heading><h1 style=text-align:left>Installer OpenBSD sur une dedibox Classic+ Gen2</h1></div></div></div></div></div></header><div class=container role=main><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><article role=main class=blog-post><p>Yop,</p><p>Les services de poolp.org sont hébergés sur plusieurs serveurs.</p><p>Le serveur principal à été basculé d&rsquo;un petit hébergeur US &ldquo;OpenBSD-friendly&rdquo; vers Online.net depuis 3 ans maintenant. J&rsquo;ai rusé à l&rsquo;époque pour installer OpenBSD sur la Dedibox &ldquo;DC&rdquo; en utilisant une vieille version de Yaifo et en faisant des upgrades successives du système d&rsquo;exploitation. Mis à part 3 petits downtimes dont 1 de ma responsabilité, je n&rsquo;ai jamais eu à me plaindre de leurs services et de leur matériel.</p><p>Le serveur secondaire, qui ne fournit que de l&rsquo;espace disque pour les backups et un service de DNS et de SMTP secondaire en cas de panne du serveur primaire, est actuellement un serveur Kimsufi de chez OVH sur lequel j&rsquo;ai installé OpenBSD via le vKVM. Le serveur est sous-utilisé, recevant un trafic anecdotique en dehors des backups journaliers en provenance du serveur primaire, mais je suis globalement content du service qui n&rsquo;a pas subi de downtime depuis plus d&rsquo;un an en ce qui me concerne.</p><p>Des fois, pour les besoins d&rsquo;un projet, je prends un serveur supplémentaire pour une durée indéterminée et je le laisse expirer à la fin du projet, ou bien je bascule le serveur secondaire dessus si à prix équivalent le matériel est plus confortable.</p><p>Ce week-end, je me suis rendu compte de la disponibilité des nouveaux serveurs Dedibox Classic+ Gen2 qui avaient l&rsquo;air pas mal sexy. J&rsquo;allais justement renouveller un serveur un peu moins confortable au même tarif, j&rsquo;ai donc décidé de prendre un nouveau serveur chez Online et de laisser expirer celui que j&rsquo;allais renouveller chez OVH.</p><p>Le Classic+ Gen2 avait l&rsquo;air assez sympa et la dispo d&rsquo;un KVM/IP laissait présager qu&rsquo;installer OpenBSD serait une partie de plaisir.</p><p>Ca, c&rsquo;était avant d&rsquo;essayer pour de vrai.</p><p>Let&rsquo;s go !</p><p>Mon serveur est commandé et je recoit peu après un mail m&rsquo;indiquant sa disponibilité. Ni une, ni deux, je me loggue et ne vois pas de menu pour avoir accès au KVM, juste un bouton &ldquo;Install&rdquo;.</p><p>Comme il me faudra de toutes facons connaitre un peu le materiel avant d&rsquo;installer OpenBSD par KVM, je prends le premier OS de la liste et lance une install pour pouvoir recuperer quelques infos du dmesg.</p><p>L&rsquo;install est rapide, il faut attendre un délai d&rsquo;une heure avant de réussir à se connecter à la machine par SSH. Ca laisse le temps de chercher comment on accède au KVM depuis la console Online.</p><p>iDRAC</p><p>L&rsquo;Install de Debian finie, des menus supplémentaires apparaissent dans la console Online, dont le menu iDrac qui permets de lancer une console virtuelle.</p><p>Pas de bol, il faut un OS &ldquo;java&rdquo;-compliant, je viens de vendre mon laptop et je n&rsquo;ai rien qui fasse l&rsquo;affaire. Après moultes galères, je mets la main sur un Windows et je lance la console virtuelle, choisis l&rsquo;ISO d&rsquo;OpenBSD et tente un boot.</p><p>Pendant le boot, perte de connexion, impossible de relancer la console virtuelle, impossible de rebooter le serveur depuis la console Online ou bien simplement de faire un ssh sur la machine (normal, elle est en plein boot de l&rsquo;installeur OpenBSD&mldr;).</p><p>Sur le canal IRC d'#online, on m&rsquo;indique que l&rsquo;iDRAC est dans le caniveau, une intervention est planifiee.</p><p>Je retente de differentes facons, mais le crash de l&rsquo;iDRAC est systematique et me fait perdre la main completement sur le serveur sans aucune action possible à part quémander un redémarrage sur IRC et/ou ouvrir un ticket pour planifier une intervention.</p><p>A la cinquième tentative, mes reves d&rsquo;install par KVM/IP s&rsquo;envolent, on me suggère de faire tourner une VM (ESXi est proposé comme OS), mais je suis pas trop fan donc&mldr;</p><p>QEMU à la rescousse</p><p>Je cherche du coté de Yaifo vu qu&rsquo;il m&rsquo;a sauvé la vie la première fois, mais il n&rsquo;est plus maintenu depuis un bail. J&rsquo;envisage de le mettre à jour, mais pas trop envie de rester sur le problème 40 ans et l&rsquo;idée de me retapper des heures d&rsquo;attentes entre chaque intervention sur mes tentatives de tests échoué m&rsquo;enchante pas des masses.</p><p>Sur IRC, Enjolras (#gcu) me fait savoir qu&rsquo;il a installé DragonFlyBSD sur un Kimsufi en se servant d&rsquo;un FreeBSD en mode rescue et d&rsquo;unionfs pour faire l&rsquo;install sur le disque physique depuis un QEMU lancé en curses.</p><p>Idée séduisante, en rescue sur une Dedibox même pas besoin d&rsquo;unionfs&mldr;</p><p>Ci-dessous, voici donc la méthode pour installer le plus simplement possible un OpenBSD sur une Dedibox. Elle devrait marcher pour n&rsquo;importe quel OS qui supporte le matériel avec un minimum de changements. Merci Enjolras !</p><p>Récupérer les infos utiles</p><p>Il faut tout d&rsquo;abord booter sur le Linux installé et récupérer une copie du dmesg.</p><p>La raison est toute simple, QEMU va simuler le matériel, l&rsquo;installation verra un disque et une interface réseau différentes de ceux du serveur physique. Lorsque l&rsquo;installation sera terminée, si on reboot sur le serveur physique sans avoir fait quelques modifications, le système cherchera une interface et un disque inexistants avec le résultat attendu&mldr; un ticket pour une intervention dans quelques heures ;-)</p><p>Les infos qui nous intéressent sont éventuellement le DUID pour identifier le disque dans /etc/fstab et la description des interfaces réseau pour retrouver le nom du driver qui les prendra en charge et ainsi pouvoir créer les fichiers de conf réseau.</p><p>Sur le Classic+, j&rsquo;ai décidé de ne pas me servir du DUID vu que c&rsquo;est sympa mais pas obligatoire et pas d&rsquo;un intérêt fou dans mon cas. En revanche, un petit grep eth a mis en évidence deux interfaces réseau &ldquo;Broadcom BCM5716&rdquo; et un petit coup de man bnx à confirmé que le driver bnx(4) les prends en charge sous OpenBSD. QEMU proposera une interface Realtek prise en charge par le driver re(4), donc ca n&rsquo;ira pas.</p><p>Le disque dur est monté sur /dev/sda, avec OpenBSD dans QEMU il sera visible en tant que /dev/wd0c, et avec OpenBSD sur le serveur physique il sera visible en tant que /dev/sd0c.</p><p>De plus, il va nous falloir les infos pour la configuration réseau:</p><p>adresse IP
broadcast
netmask
gateway
On peut les récupérer depuis l&rsquo;interface Online ou depuis ifconfig et route, en ce qui me concerne:</p><p>adresse : 88.191.185.XXX
broadcast : 88.191.185.255
netmask : 255.255.255.0
gateway : 88.191.185.1
Il faudra aussi l&rsquo;adresse d&rsquo;un serveur de nom pour éviter de passer 4 plombes sur le reverse lookup à la première connexion ssh, personnellement j&rsquo;ai utilisé le 8.8.8.8 de Google pour mon premier boot puisque j&rsquo;installe un serveur de nom local par la suite.</p><p>Let&rsquo;s Go Pour De Vrai!</p><p>Première étape: installer QEMU ;-) % sudo apt-get update % sudo apt-get install qemu</p><p>Seconde étape: télécharger l&rsquo;ISO d&rsquo;install % wget <a href=ftp://ftp.fr.openbsd.org/pub/OpenBSD/5.3/amd64/install53.iso>ftp://ftp.fr.openbsd.org/pub/OpenBSD/5.3/amd64/install53.iso</a></p><p>Troisième étape: lancer l&rsquo;install. % sudo qemu-system-x86_64 -curses -boot -d -cdrom install53.iso -hda /dev/sda</p><p>A ce stade, qemu boot sur l&rsquo;installer et on fait face a une install tout a fait normale d&rsquo;OpenBSD. Je le lance en mono-cpu, je prefere une install qui boot sur un kernel monoproc la première fois et faire une install du kernel MP après le premier boot, chacun est libre de faire comme il veut ;-)</p><p>Je ne vais pas documenter l&rsquo;installation, il y a moultes informations à ce sujet, par contre je vais juste faire une petite remarque utile pour vous éviter de perdre du temps inutilement:</p><p>en mode &ldquo;auto&rdquo;, disklabel ne consommera pas tout le disque, il faut faire un découpage custom</p><p>Il vaut mieux s&rsquo;en rendre compte pendant l&rsquo;install que de se galérer à faire les resize après &mldr; croyez moi.</p><p>Installation finie ?</p><p>Avant de quitter le mode rescue et de booter sur le serveur physique, quelques petites modifications.</p><p>On configure&mldr;</p><p>&mldr; la gateway:</p><p>echo 88.191.185.1 > /etc/mygate</p><p>&mldr; l&rsquo;interface réseau:</p><p>echo inet 88.191.185.XXX 255.255.255.0 88.191.185.255 > /etc/hostname.bnx0</p><p>&mldr; le resolver:</p><p>cat &lt; /etc/resolv.conf
nameserver 8.8.8.8 search file bind EOF</p><p>&mldr; le fstab (attention à pas se rater):</p><p>sed &rsquo;s/wd0/sd0/g' &lt; /etc/fstab > /tmp/fstab && mv /tmp/fstab /etc/fstab</p><p>&mldr; et HOP on reboot</p><p>reboot</p><p>Premier reboot&mldr;</p><p>Le premier boot est long. Tres long. En fait pas si long que ca, mais l&rsquo;anxiete de devoir refaire un ticket pour une intervention et attendre 4h pour refaire une tentative donne l&rsquo;impression que des heures s&rsquo;ecoulent avant la premiere reponse aux ping ;-)</p><p>Une fois ce stade, on doit pouvoir se SSH sur la machine dans un OpenBSD avec un kernel monoproc. Si c&rsquo;est bon, il ne reste plus qu&rsquo;à installer le kernel MP:</p><p>cp /bsd /bsd.sp
ftp <a href=ftp://ftp.fr.openbsd.org/pub/OpenBSD/5.3/amd64/bsd.mp>ftp://ftp.fr.openbsd.org/pub/OpenBSD/5.3/amd64/bsd.mp</a>
cp bsd.mp /bsd
sync
reboot</p><p>Au reboot on est sur un OpenBSD 5.3 GENERIC#MP \o/</p><p>OpenBSD 5.3 (GENERIC.MP) #62: Tue Mar 12 18:21:20 MDT 2013 <a href=mailto:deraadt@amd64.openbsd.org>deraadt@amd64.openbsd.org</a>:/usr/src/sys/arch/amd64/compile/GENERIC.MP real mem = 8557342720 (8160MB) avail mem = 8307052544 (7922MB) mainbus0 at root bios0 at mainbus0: SMBIOS rev. 2.7 @ 0xe6da0 (57 entries) bios0: vendor Dell Inc. version &ldquo;2.2.3&rdquo; date 10/25/2012 bios0: Dell Inc. PowerEdge R210 II acpi0 at bios0: rev 2 acpi0: sleep states S0 S4 S5 acpi0: tables DSDT FACP SPMI DMAR ASF! HPET APIC MCFG BOOT SSDT ASPT SSDT SSDT SPCR HEST ERST BERT EINJ acpi0: wakeup devices P0P1(S4) GLAN(S0) EHC1(S4) EHC2(S4) XHC_(S4) PXSX(S4) RP01(S5) PXSX(S4) RP02(S5) PXSX(S4) RP03(S5) PXSX(S4) RP04(S5) PXSX(S4) RP05(S5) PXSX(S4) RP06(S5) PXSX(S4) RP07(S5) PXSX(S4) RP08(S5) PEG0(S5) PEGP(S5) PEG1(S5) PEG2(S5) PEG3(S5) acpitimer0 at acpi0: 3579545 Hz, 24 bits acpihpet0 at acpi0: 14318179 Hz acpimadt0 at acpi0 addr 0xfee00000: PC-AT compat cpu0 at mainbus0: apid 0 (boot processor) cpu0: Intel(R) Xeon(R) CPU E3-1220 V2 @ 3.10GHz, 3093.38 MHz cpu0: FPU,VME,DE,PSE,TSC,MSR,PAE,MCE,CX8,APIC,SEP,MTRR,PGE,MCA,CMOV, PAT,PSE36,CFLUSH,DS,ACPI,MMX,FXSR,SSE,SSE2,SS,HTT,TM,PBE,SSE3,PCLMUL, DTES64,MWAIT,DSCPL,VMX,SMX,EST,TM2,SSSE3,CX16,xTPR,PDCM,PCID,SSE4.1, SSE4.2,x2APIC,POPCNT,DEADLINE,AES,XSAVE,AVX,F16C,RDRAND,NXE,LONG,LAHF, PERF,ITSC,FSGSBASE,SMEP,ERMS cpu0: 256KB 64b/line 8-way L2 cache cpu0: apic clock running at 99MHz cpu1 at mainbus0: apid 2 (application processor) cpu1: Intel(R) Xeon(R) CPU E3-1220 V2 @ 3.10GHz, 3092.98 MHz cpu1: FPU,VME,DE,PSE,TSC,MSR,PAE,MCE,CX8,APIC,SEP,MTRR,PGE,MCA,CMOV,PAT,PSE36,CFLUSH, DS,ACPI,MMX,FXSR,SSE,SSE2,SS,HTT,TM,PBE,SSE3,PCLMUL,DTES64,MWAIT,DS-CPL, VMX,SMX,EST,TM2,SSSE3,CX16,xTPR,PDCM,PCID,SSE4.1,SSE4.2,x2APIC,POPCNT, DEADLINE,AES,XSAVE,AVX,F16C,RDRAND,NXE,LONG,LAHF,PERF,ITSC,FSGSBASE,SMEP,ERMS cpu1: 256KB 64b/line 8-way L2 cache cpu2 at mainbus0: apid 4 (application processor) cpu2: Intel(R) Xeon(R) CPU E3-1220 V2 @ 3.10GHz, 3092.98 MHz cpu2: FPU,VME,DE,PSE,TSC,MSR,PAE,MCE,CX8,APIC,SEP,MTRR,PGE,MCA,CMOV,PAT,PSE36,CFLUSH, DS,ACPI,MMX,FXSR,SSE,SSE2,SS,HTT,TM,PBE,SSE3,PCLMUL,DTES64,MWAIT,DS-CPL, VMX,SMX,EST,TM2,SSSE3,CX16,xTPR,PDCM,PCID,SSE4.1,SSE4.2,x2APIC,POPCNT, DEADLINE,AES,XSAVE,AVX,F16C,RDRAND,NXE,LONG,LAHF,PERF,ITSC,FSGSBASE,SMEP,ERMS cpu2: 256KB 64b/line 8-way L2 cache cpu3 at mainbus0: apid 6 (application processor) cpu3: Intel(R) Xeon(R) CPU E3-1220 V2 @ 3.10GHz, 3092.98 MHz cpu3: FPU,VME,DE,PSE,TSC,MSR,PAE,MCE,CX8,APIC,SEP,MTRR,PGE,MCA,CMOV,PAT,PSE36,CFLUSH, DS,ACPI,MMX,FXSR,SSE,SSE2,SS,HTT,TM,PBE,SSE3,PCLMUL,DTES64,MWAIT,DS-CPL, VMX,SMX,EST,TM2,SSSE3,CX16,xTPR,PDCM,PCID,SSE4.1,SSE4.2,x2APIC,POPCNT, DEADLINE,AES,XSAVE,AVX,F16C,RDRAND,NXE,LONG,LAHF,PERF,ITSC,FSGSBASE,SMEP,ERMS cpu3: 256KB 64b/line 8-way L2 cache ioapic0 at mainbus0: apid 0 pa 0xfec00000, version 20, 24 pins acpimcfg0 at acpi0 addr 0xe0000000, bus 0-255 acpiprt0 at acpi0: bus 0 (PCI0) acpiprt1 at acpi0: bus 3 (P0P1) acpiprt2 at acpi0: bus 2 (RP01) acpiprt3 at acpi0: bus -1 (RP02) acpiprt4 at acpi0: bus -1 (RP03) acpiprt5 at acpi0: bus -1 (RP04) acpiprt6 at acpi0: bus -1 (RP05) acpiprt7 at acpi0: bus -1 (RP06) acpiprt8 at acpi0: bus -1 (RP07) acpiprt9 at acpi0: bus -1 (RP08) acpiprt10 at acpi0: bus 1 (PEG0) acpiprt11 at acpi0: bus -1 (PEG1) acpiprt12 at acpi0: bus -1 (PEG2) acpiprt13 at acpi0: bus -1 (PEG3) acpicpu0 at acpi0: C3, C2, C1, PSS acpicpu1 at acpi0: C3, C2, C1, PSS acpicpu2 at acpi0: C3, C2, C1, PSS acpicpu3 at acpi0: C3, C2, C1, PSS acpipwrres0 at acpi0: FN00 acpipwrres1 at acpi0: FN01 acpipwrres2 at acpi0: FN02 acpipwrres3 at acpi0: FN03 acpipwrres4 at acpi0: FN04 acpitz0 at acpi0: critical temperature is 106 degC ipmi at mainbus0 not configured cpu0: Enhanced SpeedStep 3093 MHz: speeds: 3101, 3100, 3000, 2900, 2800, 2700, 2600, 2500, 2300, 2200, 2100, 2000, 1900, 1800, 1700, 1600 MHz pci0 at mainbus0 bus 0 pchb0 at pci0 dev 0 function 0 vendor &ldquo;Intel&rdquo;, unknown product 0x0158 rev 0x09 ppb0 at pci0 dev 1 function 0 &ldquo;Intel Xeon E3-1200v2 PCIE&rdquo; rev 0x09: msi pci1 at ppb0 bus 1 mpii0 at pci1 dev 0 function 0 &ldquo;Symbios Logic SAS2008&rdquo; rev 0x03: msi mpii0: PERC H200A, firmware 7.15.8.0 IR, MPI 2.0 scsibus0 at mpii0: 42 targets sd0 at scsibus0 targ 1 lun 0: SCSI4 0/direct fixed naa.600508e0000000003cd970ac3a16d00c sd0: 953344MB, 512 bytes/sector, 1952448512 sectors ehci0 at pci0 dev 26 function 0 &ldquo;Intel 6 Series USB&rdquo; rev 0x04: apic 0 int 20 usb0 at ehci0: USB revision 2.0 uhub0 at usb0 &ldquo;Intel EHCI root hub&rdquo; rev 2.00/1.00 addr 1 ppb1 at pci0 dev 28 function 0 &ldquo;Intel 6 Series PCIE&rdquo; rev 0xb4: msi pci2 at ppb1 bus 2 bnx0 at pci2 dev 0 function 0 &ldquo;Broadcom BCM5716&rdquo; rev 0x20: apic 0 int 16 bnx1 at pci2 dev 0 function 1 &ldquo;Broadcom BCM5716&rdquo; rev 0x20: apic 0 int 17 ehci1 at pci0 dev 29 function 0 &ldquo;Intel 6 Series USB&rdquo; rev 0x04: apic 0 int 23 usb1 at ehci1: USB revision 2.0 uhub1 at usb1 &ldquo;Intel EHCI root hub&rdquo; rev 2.00/1.00 addr 1 ppb2 at pci0 dev 30 function 0 &ldquo;Intel 82801BA Hub-to-PCI&rdquo; rev 0xa4 pci3 at ppb2 bus 3 vga1 at pci3 dev 3 function 0 &ldquo;Matrox MGA G200eW&rdquo; rev 0x0a wsdisplay0 at vga1 mux 1: console (80x25, vt100 emulation) wsdisplay0: screen 1-5 added (80x25, vt100 emulation) pcib0 at pci0 dev 31 function 0 &ldquo;Intel C202 LPC&rdquo; rev 0x04 ahci0 at pci0 dev 31 function 2 &ldquo;Intel 6 Series AHCI&rdquo; rev 0x04: msi, AHCI 1.3 scsibus1 at ahci0: 32 targets ichiic0 at pci0 dev 31 function 3 &ldquo;Intel 6 Series SMBus&rdquo; rev 0x04: apic 0 int 19 iic0 at ichiic0 sdtemp0 at iic0 addr 0x19: mcp98243 spdmem0 at iic0 addr 0x51: 8GB DDR3 SDRAM ECC PC3-10600 with thermal sensor isa0 at pcib0 isadma0 at isa0 com0 at isa0 port 0x3f8/8 irq 4: ns16550a, 16 byte fifo com1 at isa0 port 0x2f8/8 irq 3: ns16550a, 16 byte fifo pckbc0 at isa0 port 0x60/5 kbc: cmd word write error pcppi0 at isa0 port 0x61 spkr0 at pcppi0 mtrr: Pentium Pro MTRR support uhub2 at uhub0 port 1 &ldquo;Intel Rate Matching Hub&rdquo; rev 2.00/0.00 addr 2 uhidev0 at uhub2 port 1 configuration 1 interface 0 &ldquo;Avocent USB Composite Device-0&rdquo; rev 1.10/0.00 addr 3 uhidev0: iclass 3/1 ukbd0 at uhidev0: 8 variable keys, 6 key codes wskbd0 at ukbd0 mux 1 wskbd0: connecting to wsdisplay0 uhidev1 at uhub2 port 1 configuration 1 interface 1 &ldquo;Avocent USB Composite Device-0&rdquo; rev 1.10/0.00 addr 3 uhidev1: iclass 3/1 ums0 at uhidev1: 3 buttons, Z dir wsmouse0 at ums0 mux 0 uhub3 at uhub1 port 1 &ldquo;Intel Rate Matching Hub&rdquo; rev 2.00/0.00 addr 2 uhub4 at uhub3 port 5 &ldquo;Standard Microsystems product 0x2514&rdquo; rev 2.00/0.00 addr 3 vscsi0 at root scsibus2 at vscsi0: 256 targets softraid0 at root scsibus3 at softraid0: 256 targets root on sd0a (f32d1747471a3037.a) swap on sd0b dump on sd0b bnx0: address d4:ae:52:c8:01:89 brgphy0 at bnx0 phy 1: BCM5709 10/100/1000baseT PHY, rev. 8 bnx1: address d4:ae:52:c8:01:8a brgphy1 at bnx1 phy 1: BCM5709 10/100/1000baseT PHY, rev. 8</p><hr><section id=social-share><div class="list-inline footer-links"><div class=share-box aria-hidden=true><ul class=share><li><a href="//twitter.com/share?url=https%3a%2f%2fpoolp.org%2fposts%2f2013-05-08%2finstaller-openbsd-sur-une-dedibox-classic-gen2%2f&text=Installer%20OpenBSD%20sur%20une%20dedibox%20Classic%2b%20Gen2&via=poolpOrg" target=_blank title="Share on Twitter"><i class="fab fa-twitter"></i></a></li><li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fpoolp.org%2fposts%2f2013-05-08%2finstaller-openbsd-sur-une-dedibox-classic-gen2%2f" target=_blank title="Share on Facebook"><i class="fab fa-facebook"></i></a></li><li><a href="//reddit.com/submit?url=https%3a%2f%2fpoolp.org%2fposts%2f2013-05-08%2finstaller-openbsd-sur-une-dedibox-classic-gen2%2f&title=Installer%20OpenBSD%20sur%20une%20dedibox%20Classic%2b%20Gen2" target=_blank title="Share on Reddit"><i class="fab fa-reddit"></i></a></li><li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fpoolp.org%2fposts%2f2013-05-08%2finstaller-openbsd-sur-une-dedibox-classic-gen2%2f&title=Installer%20OpenBSD%20sur%20une%20dedibox%20Classic%2b%20Gen2" target=_blank title="Share on LinkedIn"><i class="fab fa-linkedin"></i></a></li><li><a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fpoolp.org%2fposts%2f2013-05-08%2finstaller-openbsd-sur-une-dedibox-classic-gen2%2f&title=Installer%20OpenBSD%20sur%20une%20dedibox%20Classic%2b%20Gen2" target=_blank title="Share on StumbleUpon"><i class="fab fa-stumbleupon"></i></a></li><li><a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fpoolp.org%2fposts%2f2013-05-08%2finstaller-openbsd-sur-une-dedibox-classic-gen2%2f&description=Installer%20OpenBSD%20sur%20une%20dedibox%20Classic%2b%20Gen2" target=_blank title="Share on Pinterest"><i class="fab fa-pinterest"></i></a></li></ul></div></div></section></article><ul class="pager blog-pager"><li class=previous><a href=https://poolp.org/posts/2013-04-26/opensmtpd-table_proc-queue_proc-crypto-queue-and-other-stuff/ data-toggle=tooltip data-placement=top title="OpenSMTPD: table_proc, queue_proc, crypto queue and other stuff">&larr; Previous Post</a></li><li class=next><a href=https://poolp.org/posts/2013-12-14/opensmtpd-improvements-summary/ data-toggle=tooltip data-placement=top title="OpenSMTPD improvements summary">Next Post &rarr;</a></li></ul></div></div></div><footer style=text-align:justify><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><h2>Like my work and want to help me ?</h2><br><ul><li>Consider <b>tipping me</b> on <b><a target=_blank href=https://paypal.me/poolpOrg>PayPal</a></b>,
<b>supporting me</b> through one of the <b><a href=/en/sponsorship>sponsorship</a></b> platforms at <b><a href=https://github.com/sponsors/poolpOrg>Github</a></b>, <b><a href=https://patreon.com/gilles>Patreon</a></b> or
<b><a href=https://liberapay.com/poolpOrg>LiberaPay</a></b>,
or even <b>getting me something</b> from my wishlist on <b><a target=_blank href=http://amzn.eu/3MwH6CX>Amazon</a></b>
for positive <b><a href=https://en.wikipedia.org/wiki/Reinforcement>reinforcement</a></b> :-)<br><br></li><li>You can also help me by <b>commenting articles</b> to spark discussions,
and by <b>sharing them</b> so they reach a bigger audience,
they all contain a comment link and icons that will let you share to popular social networks.</li></ul><br></div></div><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><p class="credits copyright text-muted"><a href=https://poolp.org>Gilles Chehade</a>
-&nbsp;&copy;
2021
-
<a href=https://poolp.org/>poolp.org</a></p><p class="credits theme-by text-muted"><a href=http://gohugo.io>Hugo v0.82.1</a> powered - Theme adapted from <a href=http://deanattali.com/beautiful-jekyll/>Beautiful Jekyll</a></p></div></div></div></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js integrity=sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js integrity=sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe crossorigin=anonymous></script><script src=https://code.jquery.com/jquery-1.12.4.min.js integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin=anonymous></script><script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js integrity=sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa crossorigin=anonymous></script><script src=https://poolp.org/js/main.js></script><script src=https://poolp.org/js/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><script>$(document).ready(function(){$("pre.chroma").css("padding","0")})</script><script>renderMathInElement(document.body)</script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js integrity=sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js integrity=sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q crossorigin=anonymous></script><script src=https://poolp.org/js/load-photoswipe.js></script></body></html>